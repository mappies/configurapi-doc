
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.6.1">
    
    
      
        <title>Event - Configurapi</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-4d0d3f2fbf.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="Configurapi" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Event
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Configurapi
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../start/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Event
      </label>
    
    <a href="./" title="Event" class="md-nav__link md-nav__link--active">
      Event
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#event-name" title="Event name" class="md-nav__link">
    Event name
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method" title="Method" class="md-nav__link">
    Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="Version" class="md-nav__link">
    Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection" title="Collection" class="md-nav__link">
    Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-name-examples" title="Event Name Examples" class="md-nav__link">
    Event Name Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-parameters" title="Event Parameters" class="md-nav__link">
    Event Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-payload" title="Event Payload" class="md-nav__link">
    Event Payload
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-response" title="Event Response" class="md-nav__link">
    Event Response
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../handlers/standard/" title="Standard Handlers" class="md-nav__link">
      Standard Handlers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../handlers/custom/" title="Custom Handlers" class="md-nav__link">
      Custom Handlers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../error/" title="Error Handling" class="md-nav__link">
      Error Handling
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../runner/" title="Runner" class="md-nav__link">
      Runner
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#event-name" title="Event name" class="md-nav__link">
    Event name
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method" title="Method" class="md-nav__link">
    Method
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="Version" class="md-nav__link">
    Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection" title="Collection" class="md-nav__link">
    Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#event-name-examples" title="Event Name Examples" class="md-nav__link">
    Event Name Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-parameters" title="Event Parameters" class="md-nav__link">
    Event Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-payload" title="Event Payload" class="md-nav__link">
    Event Payload
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#event-response" title="Event Response" class="md-nav__link">
    Event Response
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="event">Event</h1>
<p>Since Configurapi is an event-based framework, an incoming request will be converted to an event.  In this section, we will discuss 4 important event data -- name, parameters, payload, and response.</p>
<h3 id="event-name">Event name</h3>
<p>An event has a name.  In API applications, an event name is auto-generated from an API route using the following formular:</p>
<pre><code>method_version?_collection1_collection2_..._collectionN
</code></pre>
<h4 id="method">Method</h4>
<p>A method is basically a HTTP method with an exception of GET which could be either 'get' or 'list' depending on its context.</p>
<p>Example:</p>
<table>
<thead>
<tr>
<th>HTTP Request</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET /users</td>
<td>list</td>
</tr>
<tr>
<td>GET /users/{id}</td>
<td>get</td>
</tr>
<tr>
<td>POST /users</td>
<td>post</td>
</tr>
<tr>
<td>PUT /users</td>
<td>put</td>
</tr>
<tr>
<td>PATCH /users</td>
<td>patch</td>
</tr>
<tr>
<td>DELETE /delete</td>
<td>delete</td>
</tr>
</tbody>
</table>
<h4 id="version">Version</h4>
<p>API Versioning is optional.  If exists, it must be at the left most of the path and started with 'v' followed by digits.</p>
<p>Examples: </p>
<table>
<thead>
<tr>
<th>HTTP Request</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST /users</td>
<td></td>
</tr>
<tr>
<td>POST /v1/users</td>
<td>v1</td>
</tr>
<tr>
<td>POST /v2/users</td>
<td>v2</td>
</tr>
<tr>
<td>POST /v250/users</td>
<td>v250</td>
</tr>
</tbody>
</table>
<h4 id="collection">Collection</h4>
<p>A collection is a group of resources based on RESTful API design principal.  An API route may have zero or more collections. </p>
<p>Examples: </p>
<table>
<thead>
<tr>
<th>HTTP Request</th>
<th>Collection(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET /</td>
<td></td>
</tr>
<tr>
<td>GET /users</td>
<td>users</td>
</tr>
<tr>
<td>GET /users/someone</td>
<td>users</td>
</tr>
<tr>
<td>GET /users/someone/phones</td>
<td>users, phones</td>
</tr>
<tr>
<td>GET /users/someone/phones/123</td>
<td>users, phones</td>
</tr>
<tr>
<td>GET /users/someone/phones/123/tags</td>
<td>users, phones, tags</td>
</tr>
<tr>
<td>GET /users/someone/phones/123/tags/home</td>
<td>users, phones, tags</td>
</tr>
</tbody>
</table>
<h4 id="event-name-examples">Event Name Examples</h4>
<p>So, with <em>method</em>, <em>version</em>, and <em>collection</em>, we can easily translate an HTTP request to an event name. The following table demonstrates examples of URL to event name translations.  Notice also how configurapi singularizes container names.</p>
<table>
<thead>
<tr>
<th>HTTP Request</th>
<th>Event name</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET /users</td>
<td>list_users</td>
</tr>
<tr>
<td>GET /users/someone</td>
<td>get_user</td>
</tr>
<tr>
<td>GET /users/someone/phones</td>
<td>list_user_phones</td>
</tr>
<tr>
<td>GET /users/someone/phones/123</td>
<td>get_user_phone</td>
</tr>
<tr>
<td>GET /users/someone/phones/123/tags</td>
<td>list_user_phone_tags</td>
</tr>
<tr>
<td>GET /users/someone/phones/123/tags/home</td>
<td>get_user_phone_tag</td>
</tr>
<tr>
<td>GET /v1/users/someone</td>
<td>get_v1_user</td>
</tr>
<tr>
<td>GET /v1/users/someone/phones/123/tags/home</td>
<td>get_v1_user_phone_tag</td>
</tr>
<tr>
<td>POST /v1/users/</td>
<td>post_v1_user</td>
</tr>
<tr>
<td>PUT /v1/users/someone</td>
<td>put_v1_user</td>
</tr>
<tr>
<td>PATCH /v2/users/someone/phones/123</td>
<td>patch_v2_user_phone</td>
</tr>
<tr>
<td>DELETE /users/someone/phones/123</td>
<td>delete_user_phone</td>
</tr>
</tbody>
</table>
<h2 id="event-parameters">Event Parameters</h2>
<p>An event parameters are a key-value pair containing URL data that are not captured by its event name.  Examples of such data are containers' identifiers and query strings.  Here are some examples of event parameters. Notice also how configurapi singularizes parameter names.</p>
<table>
<thead>
<tr>
<th>HTTP Request</th>
<th>Parameter(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET /users</td>
<td>{}</td>
</tr>
<tr>
<td>GET /users/someone</td>
<td>{user: "someone"}</td>
</tr>
<tr>
<td>GET /users/someone/phones</td>
<td>{user: "someone"}</td>
</tr>
<tr>
<td>GET /users/someone/phones/123</td>
<td>{user: "someone", phone: "123"}</td>
</tr>
<tr>
<td>GET /users/someone/phones/123/tags</td>
<td>{user: "someone", phone: "123"}</td>
</tr>
<tr>
<td>GET /users/someone/phones/1234/tags/home</td>
<td>{user: "someone", phone: "123", tag: "home"}</td>
</tr>
<tr>
<td>GET /users?q1=v1&amp;q2=v2</td>
<td>{q1: "v1", q2: "v2"}</td>
</tr>
<tr>
<td>GET /users/someone/phones?q1=v1&amp;q2=v2</td>
<td>{user: "someone", q1: "v1", q2: "v2"}</td>
</tr>
</tbody>
</table>
<h2 id="event-payload">Event Payload</h2>
<p>An event payload is basically a serialized request's payload based on its specified content type.</p>
<table>
<thead>
<tr>
<th>HTTP Request Payload</th>
<th>HTTP Content-Type Header</th>
<th>Event Payload</th>
</tr>
</thead>
<tbody>
<tr>
<td>This is a string.</td>
<td>plain/text</td>
<td>"This is a string."</td>
</tr>
<tr>
<td>{"username": "someone"}</td>
<td>plain/text</td>
<td>"{\"username\": \"someone\"}"</td>
</tr>
<tr>
<td>{"username": "someone"}</td>
<td>application/json</td>
<td>{username: "someone"}</td>
</tr>
</tbody>
</table>
<h2 id="event-response">Event Response</h2>
<p>After an event has been processed, a response should be returned to the caller.  We can set an event's response either through configurations (e.g. <a href="../handlers/standard#setResponseHandler">setResponseHandler</a>,  <a href="../handlers/standard#setJsonResponseHandler">setJsonResponseHandler</a>) or through <a href="../handlers/custom#response">coding</a>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../start/" title="Getting Started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting Started
              </span>
            </div>
          </a>
        
        
          <a href="../handlers/standard/" title="Standard Handlers" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Standard Handlers
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-6b599127bc.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>